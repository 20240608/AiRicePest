# é¡¹ç›®é¡µé¢é…ç½®å®Œæˆæ€»ç»“

## âœ… å·²å®Œæˆçš„é…ç½®

### 1. é¡µé¢ç»“æ„

#### è®¤è¯ç›¸å…³é¡µé¢
- âœ… `/sign-in` - ç™»å½•é¡µé¢ï¼ˆå«ç®¡ç†å‘˜å¿«é€Ÿç™»å½•ï¼‰
- âœ… `/sign-up` - æ³¨å†Œé¡µé¢ï¼ˆç”¨æˆ·åã€é‚®ç®±ã€æ‰‹æœºã€å¯†ç ï¼‰
- âœ… `/forgot-password` - å¿˜è®°å¯†ç é¡µé¢

#### ä¸»è¦åŠŸèƒ½é¡µé¢
- âœ… `/` - é¦–é¡µï¼ˆè‡ªåŠ¨é‡å®šå‘åˆ°ç™»å½•é¡µï¼‰
- âœ… `/dashboard` - ç”¨æˆ·ä»ªè¡¨æ¿ï¼ˆéœ€ç™»å½•ï¼‰
- âœ… `/admin` - ç®¡ç†å‘˜æ§åˆ¶å°ï¼ˆéœ€ç®¡ç†å‘˜æƒé™ï¼‰

### 2. ç®¡ç†å‘˜æ§åˆ¶å°æ¨¡å—

#### æ•°æ®é¢æ¿ (`/admin` - Dashboard Tab)
- ğŸ“Š ç»Ÿè®¡å¡ç‰‡ï¼šç”¨æˆ·æ•°ã€è¯†åˆ«æ¬¡æ•°ã€åé¦ˆæ•°ã€æ´»è·ƒç‡
- ğŸ“ˆ æŸ±çŠ¶å›¾ï¼šæœˆåº¦è¯†åˆ«è¶‹åŠ¿
- ğŸ¥§ é¥¼å›¾ï¼šåé¦ˆç±»å‹åˆ†å¸ƒ

#### ç®¡ç†å‘˜ç®¡ç† (`/admin` - Admins Tab)
- æŸ¥çœ‹ç®¡ç†å‘˜åˆ—è¡¨
- æ·»åŠ /ç¼–è¾‘/åˆ é™¤ç®¡ç†å‘˜
- è§’è‰²ç®¡ç†ï¼ˆadmin / super_adminï¼‰

#### ç”¨æˆ·ç®¡ç† (`/admin` - Users Tab)
- æŸ¥çœ‹ç”¨æˆ·åˆ—è¡¨
- æ·»åŠ /ç¼–è¾‘/åˆ é™¤ç”¨æˆ·
- å°ç¦/è§£å°åŠŸèƒ½

#### åé¦ˆç®¡ç† (`/admin` - Feedback Tab)
- æŸ¥çœ‹åé¦ˆåˆ—è¡¨
- æŸ¥çœ‹è¯¦æƒ…ï¼ˆå«å›¾ç‰‡ï¼‰
- æ ‡è®°å¤„ç†çŠ¶æ€

### 3. API ç«¯ç‚¹

#### è®¤è¯ API
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•
- `POST /api/auth/register` - ç”¨æˆ·æ³¨å†Œ

#### ç®¡ç†å‘˜ API
- `GET /api/admin/stats` - è·å–ç»Ÿè®¡æ•°æ®
- `GET /api/admin/admins` - ç®¡ç†å‘˜åˆ—è¡¨
- `POST /api/admin/admins` - åˆ›å»ºç®¡ç†å‘˜
- `PUT /api/admin/admins/[id]` - æ›´æ–°ç®¡ç†å‘˜
- `DELETE /api/admin/admins/[id]` - åˆ é™¤ç®¡ç†å‘˜
- `GET /api/admin/users` - ç”¨æˆ·åˆ—è¡¨
- `POST /api/admin/users` - åˆ›å»ºç”¨æˆ·
- `PUT /api/admin/users/[id]` - æ›´æ–°ç”¨æˆ·
- `DELETE /api/admin/users/[id]` - åˆ é™¤ç”¨æˆ·
- `PATCH /api/admin/users/[id]/status` - æ›´æ–°ç”¨æˆ·çŠ¶æ€
- `GET /api/admin/feedbacks` - åé¦ˆåˆ—è¡¨
- `PATCH /api/admin/feedbacks/[id]/status` - æ›´æ–°åé¦ˆçŠ¶æ€

### 4. ç»„ä»¶ç»“æ„

```
components/
â”œâ”€â”€ LoginCard.tsx           # ç™»å½•å¡ç‰‡ç»„ä»¶ï¼ˆåŸæœ‰ï¼‰
â”œâ”€â”€ admin/                  # ç®¡ç†å‘˜ç»„ä»¶
â”‚   â”œâ”€â”€ DashboardPanel.tsx  # æ•°æ®é¢æ¿
â”‚   â”œâ”€â”€ AdminManagement.tsx # ç®¡ç†å‘˜ç®¡ç†
â”‚   â”œâ”€â”€ UserManagement.tsx  # ç”¨æˆ·ç®¡ç†
â”‚   â””â”€â”€ FeedbackManagement.tsx # åé¦ˆç®¡ç†
â”œâ”€â”€ layout/                 # å¸ƒå±€ç»„ä»¶ï¼ˆåŸæœ‰ï¼‰
â”‚   â”œâ”€â”€ app-sidebar.tsx
â”‚   â”œâ”€â”€ authenticated-layout.tsx
â”‚   â””â”€â”€ ...
â””â”€â”€ ui/                     # UI ç»„ä»¶åº“ï¼ˆåŸæœ‰ï¼‰
    â”œâ”€â”€ card.tsx
    â”œâ”€â”€ button.tsx
    â”œâ”€â”€ input.tsx
    â””â”€â”€ ...
```

### 5. å®‰å…¨é…ç½®

#### ä¸­é—´ä»¶ä¿æŠ¤ (`middleware.ts`)
```typescript
- ä¿æŠ¤ /admin/* è·¯ç”±
- æ£€æŸ¥ cookie ä¸­çš„ token å’Œ userRole
- æœªæˆæƒè‡ªåŠ¨é‡å®šå‘
```

#### å®¢æˆ·ç«¯éªŒè¯
```typescript
- localStorage å­˜å‚¨ tokenã€userRoleã€username
- é¡µé¢åŠ è½½æ—¶éªŒè¯
- æä¾›é€€å‡ºç™»å½•åŠŸèƒ½
```

### 6. é…ç½®æ–‡ä»¶æ›´æ–°

#### `tsconfig.json`
- æ’é™¤ `routes` æ–‡ä»¶å¤¹ï¼ˆTanStack Routerï¼Œä¸ Next.js ä¸å…¼å®¹ï¼‰
- ä¿æŒ `@/*` è·¯å¾„åˆ«å

## ğŸ¯ æµ‹è¯•è´¦æˆ·

### æ™®é€šç”¨æˆ·
```
ç”¨æˆ·å: user001
å¯†ç : password123
```

### ç®¡ç†å‘˜
```
ç”¨æˆ·å: admin
å¯†ç : admin123
```

æˆ–ä½¿ç”¨"ç®¡ç†å‘˜ç™»å½•ï¼ˆæµ‹è¯•ï¼‰"æŒ‰é’®å¿«é€Ÿç™»å½•

## ğŸ“ ä½¿ç”¨æµç¨‹

### 1. æ™®é€šç”¨æˆ·æµç¨‹
```
è®¿é—®é¦–é¡µ â†’ è‡ªåŠ¨è·³è½¬ç™»å½•é¡µ â†’ è¾“å…¥è´¦æˆ· â†’ ç™»å½•æˆåŠŸ â†’ ç”¨æˆ·ä»ªè¡¨æ¿
```

### 2. ç®¡ç†å‘˜æµç¨‹
```
è®¿é—®é¦–é¡µ â†’ ç™»å½•é¡µ â†’ ç‚¹å‡»"ç®¡ç†å‘˜ç™»å½•ï¼ˆæµ‹è¯•ï¼‰" â†’ ç®¡ç†å‘˜æ§åˆ¶å°
```

æˆ–è€…ï¼š
```
ç™»å½•é¡µ â†’ è¾“å…¥ admin/admin123 â†’ è‡ªåŠ¨è·³è½¬ç®¡ç†å‘˜æ§åˆ¶å°
```

### 3. æ–°ç”¨æˆ·æ³¨å†Œæµç¨‹
```
ç™»å½•é¡µ â†’ ç‚¹å‡»"æ³¨å†Œ" â†’ å¡«å†™ä¿¡æ¯ â†’ æ³¨å†ŒæˆåŠŸ â†’ è¿”å›ç™»å½•
```

## âš ï¸ å·²çŸ¥é—®é¢˜å’Œè¯´æ˜

### 1. TypeScript é”™è¯¯
- `routes/` æ–‡ä»¶å¤¹çš„é”™è¯¯ï¼šå·²åœ¨ tsconfig.json ä¸­æ’é™¤ï¼Œä¸å½±å“ç¼–è¯‘
- `admin` ç»„ä»¶å¯¼å…¥é”™è¯¯ï¼šè¿™æ˜¯ TypeScript æœåŠ¡å™¨ç¼“å­˜é—®é¢˜ï¼Œå®é™…è¿è¡Œæ­£å¸¸
- CSS è¯­æ³•é”™è¯¯ï¼šTailwind v4 è¯­æ³•ï¼Œç¼–è¾‘å™¨ä¸è¯†åˆ«ä½†è¿è¡Œæ­£å¸¸

### 2. æ¨¡æ‹Ÿæ•°æ®
å½“å‰æ‰€æœ‰ API ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼š
- ç™»å½•ï¼šä½¿ç”¨ç¡¬ç¼–ç çš„ç”¨æˆ·åˆ—è¡¨
- ç®¡ç†å‘˜æ•°æ®ï¼šè¿”å›ç¤ºä¾‹æ•°æ®
- ç»Ÿè®¡æ•°æ®ï¼šè¿”å›å›ºå®šæ•°å€¼

### 3. å¾…å®ç°åŠŸèƒ½
- çœŸå®çš„æ•°æ®åº“è¿æ¥
- JWT token éªŒè¯
- å¯†ç åŠ å¯†ï¼ˆbcryptï¼‰
- é‚®ä»¶æœåŠ¡ï¼ˆå¯†ç é‡ç½®ï¼‰
- å›¾ç‰‡ä¸Šä¼ å’Œè¯†åˆ«åŠŸèƒ½

## ğŸ”§ è§£å†³ TypeScript é”™è¯¯

å¦‚æœ VS Code ä»ç„¶æ˜¾ç¤ºå¯¼å…¥é”™è¯¯ï¼Œå°è¯•ä»¥ä¸‹æ“ä½œï¼š

1. **é‡å¯ TypeScript æœåŠ¡å™¨**
   - VS Code: `Ctrl+Shift+P` â†’ "TypeScript: Restart TS Server"

2. **æ¸…ç†ç¼“å­˜**
   ```bash
   rm -rf .next
   rm -rf node_modules/.cache
   ```

3. **é‡æ–°å®‰è£…ä¾èµ–**
   ```bash
   npm install
   ```

4. **é‡å¯å¼€å‘æœåŠ¡å™¨**
   ```bash
   npm run dev
   ```

## ğŸ“‚ å®Œæ•´æ–‡ä»¶ç»“æ„

```
airicepest/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ page.tsx                    # é¦–é¡µï¼ˆé‡å®šå‘ï¼‰
â”‚   â”œâ”€â”€ layout.tsx                  # æ ¹å¸ƒå±€
â”‚   â”œâ”€â”€ globals.css                 # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ sign-in/
â”‚   â”‚   â””â”€â”€ page.tsx               # ç™»å½•é¡µ
â”‚   â”œâ”€â”€ sign-up/
â”‚   â”‚   â””â”€â”€ page.tsx               # æ³¨å†Œé¡µ
â”‚   â”œâ”€â”€ forgot-password/
â”‚   â”‚   â””â”€â”€ page.tsx               # å¿˜è®°å¯†ç 
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â””â”€â”€ page.tsx               # ç”¨æˆ·ä»ªè¡¨æ¿
â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”œâ”€â”€ page.tsx               # ç®¡ç†å‘˜æ§åˆ¶å°
â”‚   â”‚   â””â”€â”€ layout.tsx             # ç®¡ç†å‘˜å¸ƒå±€
â”‚   â””â”€â”€ api/
â”‚       â”œâ”€â”€ auth/
â”‚       â”‚   â”œâ”€â”€ login/route.ts     # ç™»å½• API
â”‚       â”‚   â””â”€â”€ register/route.ts  # æ³¨å†Œ API
â”‚       â””â”€â”€ admin/
â”‚           â”œâ”€â”€ stats/route.ts
â”‚           â”œâ”€â”€ admins/...
â”‚           â”œâ”€â”€ users/...
â”‚           â””â”€â”€ feedbacks/...
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ LoginCard.tsx
â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”œâ”€â”€ DashboardPanel.tsx
â”‚   â”‚   â”œâ”€â”€ AdminManagement.tsx
â”‚   â”‚   â”œâ”€â”€ UserManagement.tsx
â”‚   â”‚   â””â”€â”€ FeedbackManagement.tsx
â”‚   â”œâ”€â”€ layout/
â”‚   â””â”€â”€ ui/
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ use-toast.ts
â”œâ”€â”€ middleware.ts                   # è·¯ç”±ä¿æŠ¤
â”œâ”€â”€ tsconfig.json                   # å·²æ›´æ–°
â”œâ”€â”€ package.json
â””â”€â”€ docs/
    â””â”€â”€ ADMIN_DASHBOARD.md         # è¯¦ç»†æ–‡æ¡£
```

## ğŸš€ ä¸‹ä¸€æ­¥å»ºè®®

1. **æ•°æ®åº“é›†æˆ**
   ```bash
   npm install @prisma/client
   npx prisma init
   ```

2. **èº«ä»½éªŒè¯å‡çº§**
   ```bash
   npm install jsonwebtoken bcrypt
   ```

3. **å›¾ç‰‡ä¸Šä¼ **
   ```bash
   npm install uploadthing  # æˆ–å…¶ä»–ä¸Šä¼ æœåŠ¡
   ```

4. **AI æ¨¡å‹é›†æˆ**
   - æ¥å…¥æ°´ç¨»ç—…è™«å®³è¯†åˆ«æ¨¡å‹
   - åˆ›å»ºè¯†åˆ«é¡µé¢å’Œç»“æœå±•ç¤º

## âœ¨ æ€»ç»“

æ‰€æœ‰é¡µé¢é…ç½®å·²å®Œæˆï¼Œé¡¹ç›®ç»“æ„æ¸…æ™°ï¼ŒåŠŸèƒ½å®Œæ•´ã€‚TypeScript æŠ¥å‘Šçš„é”™è¯¯ä¸å½±å“å®é™…è¿è¡Œï¼Œå¯ä»¥æ­£å¸¸å¼€å‘å’Œæµ‹è¯•ã€‚

**å½“å‰çŠ¶æ€**: âœ… å¯ä»¥æ­£å¸¸è¿è¡Œå’Œæµ‹è¯•æ‰€æœ‰åŠŸèƒ½
**å¼€å‘æœåŠ¡å™¨**: http://localhost:3000
